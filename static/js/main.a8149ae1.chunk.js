(this["webpackJsonpreact-mongodb-todo"]=this["webpackJsonpreact-mongodb-todo"]||[]).push([[0],{35:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(27),d=n.n(i),o=(n(35),n(11)),r=n(2),j=n(30),s=n(12),l=n(28),b=n.n(l),u=n(1),h=function(e){var t=e.todo,n=e.handleEdit,c=e.handleDelete,a=e.handleChange,i=e.handleSubmit,d=e.index,o=e.editing;return Object(u.jsx)("div",{children:t.map((function(e,t){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"todo-container",children:[Object(u.jsx)("h3",{children:e.content}),o&&t===d&&Object(u.jsx)("input",{type:"text","data-index":e.id,onChange:a}),Object(u.jsxs)("p",{children:["added on ",e.date]}),o&&t===d&&Object(u.jsx)("button",{onClick:i,"data-index":e.id,children:"Submit"}),Object(u.jsx)("button",{onClick:n,"data-index":e.id,children:o&&t===d?"Cancel":"Edit"}),Object(u.jsx)("button",{onClick:c,"data-index":e.id,children:"Delete"})]})})}))})},x=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),d=Object(s.a)(i,2),o=d[0],r=d[1],l=Object(c.useState)(""),x=Object(s.a)(l,2),O=x[0],p=x[1],f=Object(c.useState)(""),m=Object(s.a)(f,2),v=m[0],g=m[1],C=Object(c.useRef)(),S=function(e){var t=e.target.value;a(t)},D=function(e){if(e.preventDefault(),o){var t={id:O[v].id,date:Date.now(),content:n},c=O;c[v]=t,p(c)}else{var a={id:Math.random().toString(36).substr(2,9),date:Date.now(),content:n};p([].concat(Object(j.a)(O),[a])),b.a.post("http://localhost:3001/create",a)}C.current.value="",r(!1)};return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"ToDo"}),Object(u.jsxs)("form",{className:"todo-form",onSubmit:D,children:[Object(u.jsx)("input",{type:"text",onChange:S,ref:C,placeholder:"content",required:!0}),Object(u.jsx)("input",{type:"submit"})]}),O?Object(u.jsx)(h,{todo:O,handleChange:S,handleDelete:function(e){var t=e.target.dataset,n=O.filter((function(e){return e.id!==t.index}));console.log(n),p(n)},handleEdit:function(e){var t=e.target.dataset;r(!o);var n=O.findIndex((function(e){return e.id===t.index}));g(n),console.log(n)},handleSubmit:D,index:v,editing:o}):"No list for today!"]})},O=function(){return Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)(o.b,{exact:!0,activeClassName:"Home",to:"/",replace:!0,children:Object(u.jsx)("li",{children:"Home"})}),Object(u.jsx)(o.b,{exact:!0,activeClassName:"About",to:"/about",replace:!0,children:Object(u.jsx)("li",{children:"About"})})]})})},p=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"About"}),Object(u.jsx)("p",{children:"React and MongoDB ToDo App"})]})},f=function(){return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(O,{}),Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{exact:!0,path:"/",children:Object(u.jsx)(x,{})}),Object(u.jsx)(r.a,{exact:!0,path:"/about",children:Object(u.jsx)(p,{})})]})]})};var m=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(f,{})})};d.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a8149ae1.chunk.js.map